"use strict";$(document).ready(function(){$(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in",callbacks:{open:function(){var i=$(this.currItem.src);setTimeout(function(){i.find("input:not([type=submit])").each(function(){if(""===$(this).val())return $(this).focus(),!1})},500)}}})}),$(function(){var i=$(".header__top").offset().top+300,e=function(){$(window).scrollTop()>i?$(".header__top").addClass("header__top_sticky"):$(".header__top").removeClass("header__top_sticky")};e(),$(window).scroll(function(){return e()})}),$(function(){$(".hamburger").click(function(){return $(this).toggleClass("hamburger_open").find(".hamburger__btn").toggleClass("hamburger__btn_on"),$(".top-menu").fadeToggle(),$(".page").toggleClass("page_fixed"),!1})}),$(function(){function i(i){var e=$(".top-menu");e.is(i.target)||0!==e.has(i.target).length||$(i.target).hasClass("hamburger")||$(i.target).hasClass("hamburger__btn")||(e.fadeOut(),$(".hamburger").removeClass("hamburger_open").find(".hamburger__btn").removeClass("hamburger__btn_on"),$(".page").removeClass("page_fixed"))}function e(e){e.matches?($(".top-menu__item_has-child").click(function(){$(this).find(".top-menu__submenu").slideToggle(),$(this).toggleClass("top-menu__item_open")}),document.addEventListener("touchstart",i,!1),document.addEventListener("click",i,!1),$(".top-menu").is(":visible")&&$(".page").addClass("page_fixed"),$(".top-menu__submenu").css("display","none")):($(".top-menu__item_has-child").unbind("click").removeClass("top-menu__item_open"),document.removeEventListener("touchstart",i,!1),document.removeEventListener("click",i,!1),$(".page").removeClass("page_fixed"),$(".top-menu__submenu").css("display","block"))}var t=window.matchMedia("screen and (max-width: 991px)");t.addListener(e),e(t)}),$(function(){function i(i){i.matches?($(".vertical-menu_toggle .vertical-menu__title").click(function(){$(this).toggleClass("vertical-menu__title_open").parents(".vertical-menu_toggle").find(".vertical-menu__list").slideToggle()}),$(".vertical-menu_toggle").find(".vertical-menu__list").css("display","none")):$(".vertical-menu_toggle .vertical-menu__title").unbind("click").removeClass("vertical-menu__title_open").parents(".vertical-menu_toggle").find(".vertical-menu__list").css("display","block")}var e=window.matchMedia("screen and (max-width: 767px)");e.addListener(i),i(e)}),$(function(){function i(i){if(i.matches){$(".section-issues__item_desktop .section-issues__question").unbind("click"),$(".section-issues__item_mobile .section-issues__question").click(function(i){i.preventDefault(),$(".section-issues .section-issues__question").removeClass("section-issues__question_active"),$(this).addClass("section-issues__question_active");var e=$(this).attr("href");$(".section-issues__content").not(e).css({display:"none"}),$(e).fadeIn(500)});var e=$(".section-issues__question_active").attr("href");$(e).css("display","block")}else{$(".section-issues__item_mobile .section-issues__question").unbind("click"),$(".section-issues__item_desktop .section-issues__question").click(function(i){i.preventDefault();var e=$(this).attr("href"),t=$(e).html();$(this).hasClass("section-issues__question_active")||$(".section-issues__for-content").html(t),$(".section-issues .section-issues__question").removeClass("section-issues__question_active"),$(this).addClass("section-issues__question_active")});var t=$(".section-issues__question_active").attr("href"),s=$(t).html();$(".section-issues__for-content").html(s)}}$(".section-issues__item_desktop .section-issues__block").click(function(i){i.preventDefault(),$(this).hasClass("section-issues__block_open")?($(this).removeClass("section-issues__block_open"),$(this).parents(".section-issues__item").find(".section-issues__questions").slideUp()):($(this).addClass("section-issues__block_open"),$(this).parents(".section-issues__item").find(".section-issues__questions").slideDown(),$(".section-issues__item").find(".section-issues__block").not($(this)).removeClass("section-issues__block_open").parents(".section-issues__item").find(".section-issues__questions").slideUp())});var e=window.matchMedia("screen and (max-width: 767px)");e.addListener(i),i(e),$(".section-issues__question_active").parents(".section-issues__item").find(".section-issues__block").click()}),$(function(){$(".mask_phone").mask("+7(999) 999-99-99"),$.mask.definitions.H="[012]",$.mask.definitions.M="[012345]",$(".mask_time").mask("H9:M9",{placeholder:"_",completed:function(){var i=$(this).val().split(":");1*i[0]>23&&(i[0]="23"),1*i[1]>59&&(i[1]="59"),$(this).val(i.join(":"))}})}),$(function(){var i=function(){setTimeout(function(){$(".section-services__item:last").is(":visible")&&$(".section-services__button").addClass("button_disabled")},500)};i(),$(".section-services__button").click(function(){return i(),$(".section-services__item:hidden").slice(0,4).slideDown(),!1})}),$(function(){var i=$(".service-slider__list").slick({infinite:!0,fade:!0,autoplay:!0,autoplaySpeed:5e3,speed:300,slidesToShow:1,swipeToSlide:!0,dots:!1,adaptiveHeight:!1,arrows:!1});$(".service-slider__next").click(function(){i.slick("slickNext")}),$(".service-slider__prev").click(function(){i.slick("slickPrev")}),$(".service-slider__list").slick("getSlick").slideCount<=1&&$(".service-slider__list").find(".service-slider__arrows-container").css({display:"none"})}),$(function(){$(".section-prices__list").slick({infinite:!0,fade:!1,autoplay:!0,autoplaySpeed:5e3,speed:300,slidesToShow:3,swipeToSlide:!0,dots:!1,adaptiveHeight:!1,arrows:!1,appendDots:$(".section-prices__navigation"),appendArrows:$(".section-prices__navigation"),prevArrow:'<span class="section-prices__prev"></span>',nextArrow:'<span class="section-prices__next"></span>',responsive:[{breakpoint:992,settings:{slidesToShow:2,arrows:!0,dots:!0}},{breakpoint:768,settings:{slidesToShow:1,arrows:!0,dots:!0}}]})}),$(function(){var i=document.querySelectorAll(".input-file__input");Array.prototype.forEach.call(i,function(i){var e=i.nextElementSibling,t=e.innerHTML;i.addEventListener("change",function(i){var s="";s=this.files&&this.files.length>1&&this.files.length<=4?this.files.length+" файла выбрано":this.files&&this.files.length>4?this.files.length+" файлов выбрано":i.target.value.split("\\").pop(),s?e.querySelector(".input-file__field").innerHTML=s:e.innerHTML=t})})}),$(function(){$(".section-works__item").each(function(i){var e=$(this).find(".section-works__img").attr("src");$(this).css({background:"url("+e+") center no-repeat","background-size":"cover"})}),$(".section-works__slider").slick({infinite:!0,fade:!1,autoplay:!0,autoplaySpeed:5e3,speed:500,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,dots:!0,adaptiveHeight:!1,arrows:!0,asNavFor:".section-works__slider-previews",appendDots:$(".section-works__navigation"),appendArrows:$(".section-works__navigation"),prevArrow:'<span class="section-works__prev"></span>',nextArrow:'<span class="section-works__next"></span>'}),$(".section-works__item-previews").each(function(i){var e=$(this).find(".section-works__img-previews").attr("src");$(this).css({background:"url("+e+") center no-repeat","background-size":"cover"})}),$(".section-works__slider-previews").slick({slidesToShow:3,slidesToScroll:1,swipeToSlide:!0,arrows:!1,dots:!1,focusOnSelect:!0,vertical:!0,verticalSwiping:!0,asNavFor:".section-works__slider",responsive:[{breakpoint:992,settings:{vertical:!1,verticalSwiping:!1}},{breakpoint:480,settings:{vertical:!1,verticalSwiping:!1,slidesToShow:2}}]})}),$(function(){$(".section-reviews__slider").slick({infinite:!0,fade:!1,autoplay:!1,speed:0,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,draggable:!1,variableWidth:!0,dots:!1,adaptiveHeight:!0,arrows:!0,centerMode:!0,focusOnSelect:!0,appendArrows:$(".section-reviews__navigation"),prevArrow:'<span class="section-reviews__prev">Предыдущий</span>',nextArrow:'<span class="section-reviews__next">Следующий</span>',responsive:[{breakpoint:768,settings:{speed:500,centerMode:!1,variableWidth:!1}}]})}),$(function(){var i=$(".tooltip"),e=!1,t=!1,s=void 0;i.bind("mouseenter",function(){if(e=$(this),s=e.attr("data-tooltip"),t=$('<div id="tooltip"></div>'),!s||""==s)return!1;e.removeAttr("data-tooltip"),t.css("opacity",0).html(s).appendTo("body");var i=function(){$(window).width()<1.5*t.outerWidth()?t.css("max-width",$(window).width()/2):t.css("max-width",340);var i=e.offset().left+e.outerWidth()/2-t.outerWidth()/2,s=e.offset().top-t.outerHeight()-20;if(i<0?(i=e.offset().left+e.outerWidth()/2-20,t.addClass("left")):t.removeClass("left"),i+t.outerWidth()>$(window).width()?(i=e.offset().left-t.outerWidth()+e.outerWidth()/2+20,t.addClass("right")):t.removeClass("right"),s<0){e.offset().top,e.outerHeight();t.addClass("top")}else t.removeClass("top");t.css({left:i,top:s}).animate({top:"+=10",opacity:1},150)};i(),$(window).resize(i);var o=function(){t.animate({top:"-=10",opacity:0},150,function(){$(this).remove()}),e.attr("data-tooltip",s)};e.bind("mouseleave",o),t.bind("click",o)})}),$(function(){$(".section-calculator__panel_sticky").stickit({screenMinWidth:992})}),$(function(){$(".custom-select__drop-button").click(function(){var i=$(this).parents(".custom-select").find(".custom-select__drop-list");return i.is(":hidden")?(i.slideDown(),$(this).addClass("custom-select__drop-button_active"),i.find("li").click(function(){i.find(".custom-select__drop-item_selected").removeClass("custom-select__drop-item_selected"),$(this).addClass("custom-select__drop-item_selected");var e=$(this).find("a").html(),t=$(this).find("a").attr("href");return $(this).parents(".custom-select").find(".custom-select__drop-hidden-input").val(t),$(this).parents(".custom-select").find(".custom-select__drop-button").removeClass("custom-select__drop-button_active").html(e),i.slideUp(),!1})):($(this).removeClass("custom-select__drop-button_active"),i.slideUp()),!1}),$(document).click(function(i){$(i.target).closest(".custom-select__drop-list").length||($(".custom-select__drop-list").slideUp("slow"),$(".custom-select__drop-button").removeClass("custom-select__drop-button_active"),i.stopPropagation())})}),$(function(){$(".side-item__popup_magnific").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-with-zoom"}),$(".side-item_calculator").click(function(){$(this).parents(".section-calculator__step").find(".side-item_active").removeClass("side-item_active"),$(this).addClass("side-item_active")}),$(".side-item__popup_magnific").click(function(i){i.stopPropagation()})}),$(function(){$(".keypad").keypad({keypadOnly:!1,closeText:"",clearText:"",layout:["789","456","123",$.keypad.CLEAR+"0"+$.keypad.CLOSE]})}),$(function(){$(".link-scroll").click(function(){var i=$(this).attr("href"),e=$(i).offset().top;return $("html, body").animate({scrollTop:e},1100),!1})}),$(function(){function i(){var i=[];$(".visualizer-control__drop-button").each(function(){i.push($(this).attr("href"))});var e='url("img/visualizer/'+$(".visualizer__controls").attr("data-folder")+"/"+i.join("")+$(".visualizer__color_active").attr("href")+'.png") center no-repeat';$(".visualizer__fence").css("background",e)}i(),$(".visualizer-control__drop-button").click(function(){$(".visualizer-control__drop-list").slideUp("slow"),$(".visualizer-control__drop-button").removeClass("visualizer-control__drop-button_active");var e=$(this).parents(".visualizer-control").find(".visualizer-control__drop-list");return e.is(":hidden")?(e.slideDown(),$(this).addClass("visualizer-control__drop-button_active"),e.find("li").click(function(){e.find(".visualizer-control__drop-item_selected").removeClass("visualizer-control__drop-item_selected"),$(this).addClass("visualizer-control__drop-item_selected");var t=$(this).find("a").text(),s=$(this).find("a").attr("href");return $(this).parents(".visualizer-control").find(".visualizer-control__drop-button").removeClass("visualizer-control__drop-button_active").attr("href",s).html(t),e.slideUp(),"r1"==$(this).find("a").attr("href")?$(".visualizer__box").removeClass("visualizer__box_back").addClass("visualizer__box_front"):"r2"==$(this).find("a").attr("href")&&$(".visualizer__box").removeClass("visualizer__box_front").addClass("visualizer__box_back"),"s2"==$(this).find("a").attr("href")?($(".visualizer").removeClass("visualizer__box_s4 visualizer__box_s1 visualizer__box_s3").addClass("visualizer__box_s2"),"v1t3"!=$(".visualizer-control__drop-button_view").attr("href")&&$(".visualizer__controls").find(".visualizer-control__drop-link[href='o2']").css("display","block"),$(".visualizer_shtaket .visualizer-control__drop-link[href='r1']").click(),$(".visualizer_shtaket .visualizer-control__drop-link[href='r2']").css("display","none")):"s1"==$(this).find("a").attr("href")?($(".visualizer").removeClass("visualizer__box_s2 visualizer__box_s3").addClass("visualizer__box_s1"),"v1t3"!=$(".visualizer-control__drop-button_view").attr("href")&&$(".visualizer__controls").find(".visualizer-control__drop-link[href='o2']").css("display","block"),$(".visualizer-control__drop-link[href='r2']").css("display","block")):"s4"==$(this).find("a").attr("href")?$(".visualizer").removeClass("visualizer__box_s2").addClass("visualizer__box_s4"):"s3"==$(this).find("a").attr("href")&&($(".visualizer").removeClass("visualizer__box_s1 visualizer__box_s2").addClass("visualizer__box_s3"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o1']").click(),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o2']").css("display","none"),$(".visualizer-control__drop-link[href='r1']").click(),$(".visualizer-control__drop-link[href='r2']").css("display","none")),"v1t1"==$(this).find("a").attr("href")?($(".visualizer__controls").find(".visualizer-control__drop-link[href='s1']").click(),$(".visualizer__controls").find(".visualizer-control__drop-link[href='s3']").css("display","none"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o1']").css("display","block"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o2']").css("display","block"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o3']").css("display","none"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o1']").click()):"v1t3"==$(this).find("a").attr("href")?($(".visualizer__controls").find(".visualizer-control__drop-link[href='s1']").click(),$(".visualizer__controls").find(".visualizer-control__drop-link[href='s3']").css("display","none"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o1']").css("display","none"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o2']").css("display","none"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o3']").css("display","block"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o3']").click()):"v1t2"==$(this).find("a").attr("href")&&($(".visualizer__controls").find(".visualizer-control__drop-link[href='s3']").css("display","block"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o1']").css("display","block"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o2']").css("display","block"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o3']").css("display","none"),$(".visualizer__controls").find(".visualizer-control__drop-link[href='o1']").click()),"o1"==$(this).find("a").attr("href")?$(".visualizer__box").removeClass("visualizer__box_o4 visualizer__box_o2 visualizer__box_o3").addClass("visualizer__box_o1"):"o2"==$(this).find("a").attr("href")?$(".visualizer__box").removeClass("visualizer__box_o1 visualizer__box_o3").addClass("visualizer__box_o2"):"o3"==$(this).find("a").attr("href")?$(".visualizer__box").removeClass("visualizer__box_o1 visualizer__box_o2").addClass("visualizer__box_o3"):"o4"==$(this).find("a").attr("href")&&$(".visualizer__box").removeClass("visualizer__box_o1").addClass("visualizer__box_o4"),i(),!1})):($(this).removeClass("visualizer-control__drop-button_active"),e.slideUp()),!1}),$(".visualizer-control__drop-button_shtaket").click().click(),$(document).click(function(i){$(i.target).closest(".visualizer-control__drop-list").length||($(".visualizer-control__drop-list").slideUp("slow"),$(".visualizer-control__drop-button").removeClass("visualizer-control__drop-button_active"),i.stopPropagation())}),$(".visualizer__color").click(function(){var e=$(this);return e.addClass("visualizer__color_click"),setTimeout(function(){e.removeClass("visualizer__color_click")},300),$(".visualizer__buttons").find(".visualizer__color").removeClass("visualizer__color_active"),e.addClass("visualizer__color_active"),i(),!1}),$(".visualizer__color:first").click(),$(".visualizer__ios-switch .ios-switch__input").change(function(){$(this).prop("checked")?($(".visualizer__box").removeClass("visualizer__box_interactive-off"),$(".visualizer__ios-switch-ischecked").html("включен")):($(".visualizer__box").addClass("visualizer__box_interactive-off"),$(".visualizer__ios-switch-ischecked").html("выключен"))}),$(function(){var i=$(".visualizer__circle_tooltip"),e=!1,t=!1,s=void 0;i.bind("mouseenter",function(){if(e=$(this),s=e.find(".visualizer__circle-content").html(),t=$('<div class="visualizer__tooltip"></div>'),!s||""==s)return!1;t.css("opacity",0).html(s).appendTo("body");var i=function(){$(window).width()<1.5*t.outerWidth()?t.css("max-width",$(window).width()/2):t.css("max-width",340);var i=e.offset().left+e.outerWidth()/2-t.outerWidth()/2,s=e.offset().top-t.outerHeight()-20;if(i<0?(i=e.offset().left+e.outerWidth()/2-20,t.addClass("left")):t.removeClass("left"),i+t.outerWidth()>$(window).width()?(i=e.offset().left-t.outerWidth()+e.outerWidth()/2+20,t.addClass("right")):t.removeClass("right"),s<0){e.offset().top,e.outerHeight();t.addClass("top")}else t.removeClass("top");t.css({left:i,top:s}).animate({top:"+=10",opacity:1},150)};i(),$(window).resize(i);var o=function(){t.animate({top:"-=10",opacity:0},150,function(){$(this).remove()})};e.bind("mouseleave",o),t.bind("click",o)})})}),$(function(){$(".section-gallery__side-item").magnificPopup({delegate:"a",type:"image",tLoading:"Загрузка изображения #%curr%...",mainClass:"section-gallery__mfp",gallery:{enabled:!0,navigateByImgClick:!0,preload:[1,2],tCounter:""},image:{tError:"Изображение #%curr% не может быть загружено.",titleSrc:function(i){return i.el.attr("title")}}})}),$(function(){function i(i,e,t){localStorage.setItem("inputName",i),localStorage.setItem("inputEmail",e),localStorage.setItem("inputPhone",t)}$(".form-validation").each(function(){var e=$(this).find('input[type="submit"]'),t=$(this).find('input[name="name"]'),s=$(this).find('input[name="email"]'),o=$(this).find('input[name="phone"]');t.length&&null!=localStorage.getItem("inputName")&&t.val(localStorage.getItem("inputName")),s.length&&null!=localStorage.getItem("inputEmail")&&s.val(localStorage.getItem("inputEmail")),o.length&&null!=localStorage.getItem("inputPhone")&&o.val(localStorage.getItem("inputPhone")),$(this).validate({highlight:function(i,e){$(i).removeClass("validation_valid").addClass("validation_invalid")},unhighlight:function(i,e){$(i).addClass("validation_valid").removeClass("validation_invalid")},errorElement:"span",errorClass:"form-validation__error-text",ignore:".validation_ignore",focusInvalid:!0,submitHandler:function(n){var a=$(n);return $.ajax({}).done(function(n){i(t.val(),s.val(),o.val()),e.attr("disabled","disabled"),alert("Заявка отправлена, спасибо! В общем тут нужно сделать что-то более красивое, нежели нативный alert, а также добавить обработчик, чтобы данные отправлялись."),setTimeout(function(){a.trigger("reset"),e.removeAttr("disabled"),a.find(".validation_valid").removeClass("validation_valid"),a.find(".form-validation__group_valid").removeClass("form-validation__group_valid")},3e3)}),!1}}),$.validator.addMethod("myEmail",function(i,e){return this.optional(e)||/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i)},"Некорректный email"),$.validator.addMethod("validationRequired",$.validator.methods.required,"Обязательное поле!"),$.validator.addMethod("validationMinlength",$.validator.methods.minlength,"Минимум {0} символов!"),$.validator.addMethod("validationMaxlength",$.validator.methods.maxlength,"Максимум {0} символов!"),$.validator.addMethod("validationDigits",$.validator.methods.digits,"Должны быть только цифры!"),$.validator.addMethod("validationRangelength",$.validator.methods.rangelength,"Символов не менее {0} и не более {1}"),$.validator.addClassRules({validation:{validationRequired:!0},validation_email:{myEmail:!0},validation_minlength:{validationMinlength:3},validation_maxlength:{validationMaxlength:10},validation_digits:{validationDigits:!0},validation_rangelength:{validationRangelength:[3,7]}})})}),$(function(){$(window).scroll(function(){$(this).scrollTop()>400?$(".to-top").fadeIn():$(".to-top").fadeOut()}),$(".to-top").click(function(){return $("html, body").animate({scrollTop:0},600),!1})}),$(function(){var i=$(".section-contacts__map");$(".map-leave__item_top").click(function(){$("html, body").animate({scrollTop:i.offset().top-document.documentElement.clientHeight},"slow")}),$(".map-leave__item_bottom").click(function(){$("html, body").animate({scrollTop:i.outerHeight()+i.offset().top},"slow")})}),$(function(){var i=$(".infographic__slider").slick({infinite:!0,autoplay:!1,speed:300,slidesToShow:1,slidesToScroll:1,focusOnSelect:!0,swipeToSlide:!0,dots:!0,customPaging:function(i,e){return'<div class="infographic__thumb-img-container"><span class="infographic__thumb-number">'+(e+1)+'</span><img src="'+$(i.$slides[e]).data("thumb")+'" class="infographic__thumb-img" alt=""></div><p class="infographic__thumb-text">'+$(i.$slides[e]).data("text")+"</p>"},adaptiveHeight:!0,arrows:!1,appendDots:$(".infographic__dots")});$(".infographic__next").click(function(){i.slick("slickNext")}),$(".infographic__prev").click(function(){i.slick("slickPrev")})});